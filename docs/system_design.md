系統設計
===

## 目標

目標來說有優先級之分，其由高到低分別是：

1. 學生能夠負擔得起
	由於目標對象還是學生這類一般大眾，手邊資源應該可以說是相當受限，像是多服務器用於分佈式配置應該是完全不可能的（或者換個層面來說，由於這不是主要營收的業務，用戶不會願意放太多資源在上面）
	因此系統本身需要輕量化，然後盡量能夠支援各類服務器環境
	```
	不過我這邊私心想用 golang 語言處理，正常來說用主流語言像是 Java 可能會好一點，但是因為這是我的專案，我想練習 golang 而不是其他有些不知所謂的語言，所以除非 golang 在寫這部份應用有嚴重的坑，不然沒有意外是不會換的
	```
2. 盡量泛用的界面
	這部份可能是因為最近做研究習慣這樣思考，既然我都打算做這樣一個單機板的簡單應用了，我能不能盡量把支援的應用場景做大一點，或者說是找到核心的抽象概念

	相關的界面設計兩難可以去看 [API 接口設計](./api_design.md)

	同時不同的應用場合也對映著不同的安全機制需求，設計機制同時也必須考慮到一些用戶不當的操作方式，像是黃牛等；我也希望之後能不能用像是形式化驗正等方法驗證有沒有可能出現可能的語意漏洞（不過像是弄形式化驗證這短期內肯定是不可能的，倒是可以開個 issue）

3. 盡量好的效能
	同上，在架構相對簡單下，要求效能盡可能的好，除了一些優化的 trick 以外，合理分配服務器負載~~然後把發送端能做的事情全部丟給發送用戶~~減小服務器負載

## 架構

1. 用戶的請求應該要先過一道 Redis 的 Read cache 提高服務可用性
	```
	但考慮到這是個優化，並不影響應用正確執行，同時 Redis 的加入會讓整體設計變得更為複雜，像是考慮到 Redis 狀態與後端數據庫 Fault tolerance 後狀態不一致的問題，因此我打算先跳過這塊優化
	```
2. 對於需要更改數據狀態的請求（寫請求），則需要進到後端數據庫